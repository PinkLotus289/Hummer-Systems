# Referral System API

–ü—Ä–æ—Å—Ç–∞—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ **Django + Django REST Framework + PostgreSQL**.  
–†–∞–∑–≤—ë—Ä–Ω—É—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ (https://www.pythonanywhere.com/)

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å –∏–º–∏—Ç–∞—Ü–∏–µ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞ (4 —Ü–∏—Ñ—Ä—ã, –∑–∞–¥–µ—Ä–∂–∫–∞ 1‚Äì2 —Å–µ–∫).
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 6‚Äë–∑–Ω–∞—á–Ω–æ–≥–æ –∏–Ω–≤–∞–π—Ç‚Äë–∫–æ–¥–∞ (—Ü–∏—Ñ—Ä—ã + –±—É–∫–≤—ã) –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞, —Å–≤–æ–π –∏–Ω–≤–∞–π—Ç‚Äë–∫–æ–¥, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —á—É–∂–æ–π –∫–æ–¥, —Å–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤).
- –í–≤–æ–¥ —á—É–∂–æ–≥–æ –∏–Ω–≤–∞–π—Ç‚Äë–∫–æ–¥–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ, –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).
- –°–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ –≤ –ø—Ä–æ—Ñ–∏–ª–µ.

## üì° API

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å `JSON`.  
–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Ç–æ–∫–µ–Ω—É: `Authorization: Bearer <token>`.

---

### ‚ñ∂Ô∏è –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –∑–∞–ø—Ä–æ—Å –∫–æ–¥–∞

- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä.

**POST** `/auth/phone/`

- json

Request:
{
  "phone_number": "+79991234567"
}

Response:
{
  "status": "ok",
  "message": "Code sent"
}

### ‚ñ∂Ô∏è –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

**POST** `/auth/verify/`

- json

Request:
{
  "phone_number": "+79991234567",
  "code": "1234"
}

Response:
{
    "refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpX...",
    "access": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "phone_number": "+79991234567",
    "invite_code": "QXIMS0",
    "created": true
}

### ‚ñ∂Ô∏è –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.

**GET** `/auth/profile/`

- json

Response:
{
  "phone_number": "+79991234567",
  "invite_code": "A1B2C3",
  "activated_invite_code": QXIMAA,
  "referrals": 
    "+79995556677",
    "+79991112233"
}

### ‚ñ∂Ô∏è –í–≤–æ–¥ —á—É–∂–æ–≥–æ –∏–Ω–≤–∞–π—Ç‚Äë–∫–æ–¥–∞

- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é. –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —á—É–∂–æ–π –∫–æ–¥ (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω).

**POST** `/auth/profile/use_invite/`

- json

Request:
{
  "invite_code": "XYZ789"
}

Response (—É—Å–ø–µ—Ö):
{
  "message": "–ò–Ω–≤–∞–π—Ç‚Äë–∫–æ–¥ XYZ789 —É—Å–ø–µ—à–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω."
}

Response (–µ—Å–ª–∏ —É–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω):
{
"error": "–ù–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω–≤–∞–π—Ç‚Äë–∫–æ–¥."
}

Response (–µ—Å–ª–∏ –∫–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω):
{
  "error": "–ö–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω."
}

### ReDoc

‚úÖ ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
`/api/docs/redoc/`

‚úÖ Swagger UI:
`/api/docs/swagger/`

‚úÖ OpenAPI JSON:
`/api/schema/`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

- User

id,
phone,
invite_code,
activated_invite_code (nullable)

